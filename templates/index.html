{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <h1>üéØ –ù–∞—Ö–æ–¥–∏—Ç–µ —Å–∞–º—ã–µ –≤—ã–≥–æ–¥–Ω—ã–µ —Ç–µ–Ω–¥–µ—Ä—ã</h1>
        <p>
            –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞, –†–æ—Å—Å–∏–∏ –∏ –ö–∏—Ç–∞—è –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–∫—É–ø–∫–∞—Ö
        </p>
        {% if not current_user.is_authenticated %}
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <a href="{{ url_for('register') }}" class="btn btn-primary">–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É</a>
                <a href="{{ url_for('login') }}" class="btn btn-outline">–í–æ–π—Ç–∏</a>
            </div>
        {% else %}
            {% if current_user.has_access %}
                <a href="{{ url_for('catalog') }}" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
            {% else %}
                <p style="margin-top: 1rem; font-size: 1.1rem;">
                    ‚è≥ –û–∂–∏–¥–∞–π—Ç–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
                </p>
            {% endif %}
        {% endif %}
    </div>
</section>

<!-- Features -->
<section class="container features">
    <h2 class="text-center mb-4" style="font-size: 2rem; font-weight: 700;">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</h2>
    
    <div class="grid grid-3">
        <div class="feature-card card">
            <div class="feature-icon">üåç</div>
            <h3 class="feature-title">3 —Å—Ç—Ä–∞–Ω—ã - 1 –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</h3>
            <p class="card-text">
                –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ, –†–æ—Å—Å–∏–∏ –∏ –ö–∏—Ç–∞–µ. –°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ —Ü–µ–Ω—ã –∏ –≤—ã–±–∏—Ä–∞–π—Ç–µ –ª—É—á—à–µ–µ.
            </p>
        </div>
        
        <div class="feature-card card">
            <div class="feature-icon">üí∞</div>
            <h3 class="feature-title">–†–∞—Å—á–µ—Ç –º–∞—Ä–∂–∏</h3>
            <p class="card-text">
                –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –≤–∞—à–µ–π –ø—Ä–∏–±—ã–ª–∏. –í–∏–¥–∏—Ç–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –¥–æ —É—á–∞—Å—Ç–∏—è –≤ —Ç–µ–Ω–¥–µ—Ä–µ.
            </p>
        </div>
        
        <div class="feature-card card">
            <div class="feature-icon">üéØ</div>
            <h3 class="feature-title">–ü–æ–∏—Å–∫ –ø–æ –¥–µ–ø–æ–∑–∏—Ç—É</h3>
            <p class="card-text">
                –£–∫–∞–∂–∏—Ç–µ –≤–∞—à –±—é–¥–∂–µ—Ç –∏ –Ω–∞–π–¥–∏—Ç–µ —Ç–µ–Ω–¥–µ—Ä—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç–µ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.
            </p>
        </div>
        
        <div class="feature-card card">
            <div class="feature-icon">‚ö°</div>
            <h3 class="feature-title">–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫</h3>
            <p class="card-text">
                –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∞–º, —Ü–µ–Ω–∞–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω–æ–µ –∑–∞ —Å–µ–∫—É–Ω–¥—ã.
            </p>
        </div>
        
        <div class="feature-card card">
            <div class="feature-icon">üìä</div>
            <h3 class="feature-title">–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            <p class="card-text">
                –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–æ—Ç–µ: —Ü–µ–Ω—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤.
            </p>
        </div>
        
        <div class="feature-card card">
            <div class="feature-icon">üîê</div>
            <h3 class="feature-title">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
            <p class="card-text">
                –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã. –î–æ—Å—Ç—É–ø –∫ –∫–∞—Ç–∞–ª–æ–≥—É —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
            </p>
        </div>
    </div>
</section>

<!-- How It Works -->
<section class="container" style="margin: 4rem auto;">
    <h2 class="text-center mb-4" style="font-size: 2rem; font-weight: 700;">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h2>
    
    <div class="grid grid-4">
        <div class="card text-center">
            <div style="font-size: 3rem; margin-bottom: 1rem;">1Ô∏è‚É£</div>
            <h3 class="card-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
            <p class="card-text">
                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.
            </p>
        </div>
        
        <div class="card text-center">
            <div style="font-size: 3rem; margin-bottom: 1rem;">2Ô∏è‚É£</div>
            <h3 class="card-title">–ü–æ–∏—Å–∫ —Ç–µ–Ω–¥–µ—Ä–æ–≤</h3>
            <p class="card-text">
                –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Ç–µ–Ω–¥–µ—Ä–æ–≤ –ø–æ –≤–∞—à–µ–º—É –±—é–¥–∂–µ—Ç—É –∏ –∂–µ–ª–∞–µ–º–æ–π –º–∞—Ä–∂–µ.
            </p>
        </div>
        
        <div class="card text-center">
            <div style="font-size: 3rem; margin-bottom: 1rem;">3Ô∏è‚É£</div>
            <h3 class="card-title">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω</h3>
            <p class="card-text">
                –°–º–æ—Ç—Ä–∏—Ç–µ —Ü–µ–Ω—ã –Ω–∞ —Ç–æ–≤–∞—Ä—ã –∏–∑ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞, –†–æ—Å—Å–∏–∏ –∏ –ö–∏—Ç–∞—è. –í—ã–±–∏—Ä–∞–π—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç.
            </p>
        </div>
        
        <div class="card text-center">
            <div style="font-size: 3rem; margin-bottom: 1rem;">4Ô∏è‚É£</div>
            <h3 class="card-title">–£—á–∞—Å—Ç–∏–µ –≤ —Ç–µ–Ω–¥–µ—Ä–µ</h3>
            <p class="card-text">
                –ü–æ–ª—É—á–∏—Ç–µ –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —É—á–∞—Å—Ç–∏—è –∏ –º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –≤–∞—à—É –ø—Ä–∏–±—ã–ª—å.
            </p>
        </div>
    </div>
</section>

<!-- Stats -->
<section class="container" style="margin: 4rem auto;">
    <div class="stats-grid">
        <div class="stat-card text-center">
            <div class="stat-value" id="lotsCount">0</div>
            <div class="stat-label">–¢–µ–Ω–¥–µ—Ä–æ–≤ –≤ –±–∞–∑–µ</div>
        </div>
        
        <div class="stat-card text-center">
            <div class="stat-value" id="productsCount">0</div>
            <div class="stat-label">–ù–∞–π–¥–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤</div>
        </div>
        
        <div class="stat-card text-center">
            <div class="stat-value">3</div>
            <div class="stat-label">–°—Ç—Ä–∞–Ω—ã –ø–æ–∏—Å–∫–∞</div>
        </div>
        
        <div class="stat-card text-center">
            <div class="stat-value">24/7</div>
            <div class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</div>
        </div>
    </div>
</section>

<!-- CTA -->
{% if not current_user.is_authenticated %}
<section style="background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%); color: white; padding: 4rem 2rem; text-align: center;">
    <div class="container">
        <h2 style="font-size: 2.5rem; margin-bottom: 1rem; font-weight: 800;">
            –ù–∞—á–Ω–∏—Ç–µ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞ —Ç–µ–Ω–¥–µ—Ä–∞—Ö —É–∂–µ —Å–µ–≥–æ–¥–Ω—è
        </h2>
        <p style="font-size: 1.25rem; margin-bottom: 2rem; opacity: 0.9;">
            –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —É—Å–ø–µ—à–Ω—ã–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–∫—É–ø–æ–∫
        </p>
        <a href="{{ url_for('register') }}" class="btn btn-outline" style="font-size: 1.1rem; padding: 1rem 2rem;">
            –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ
        </a>
    </div>
</section>
{% endif %}

<script>
// Load stats via API
fetch('/api/stats')
    .then(response => response.json())
    .then(data => {
        document.getElementById('lotsCount').textContent = data.lots || 0;
        document.getElementById('productsCount').textContent = data.products || 0;
    })
    .catch(err => console.error('Error loading stats:', err));
</script>
{% endblock %}
